let headerEl = document.querySelector("header"); let headerPosition = headerEl.offsetTop; let lastScrollTop = 0; let isScrollingUp = false; function handleHeaderScroll() { const currentScrollTop = window.pageYOffset || document.documentElement.scrollTop; if (currentScrollTop > headerPosition) { isScrollingUp = currentScrollTop < lastScrollTop; if (isScrollingUp) { headerEl.classList.remove("hidden"); } else { headerEl.classList.add("hidden"); } } else { headerEl.classList.remove("hidden"); } lastScrollTop = currentScrollTop <= 0 ? 0 : currentScrollTop; } let scrollTimeout; window.addEventListener("scroll", function () { if (!scrollTimeout) { scrollTimeout = setTimeout(function () { handleHeaderScroll(); scrollTimeout = null; }, 10); } }); handleHeaderScroll(); document.querySelectorAll("header .nav-link").forEach(link => { link.addEventListener("click", function () { setTimeout(() => { headerEl.classList.add("hidden"); }, 1500); }); }); function scrollToTop() { window.scrollTo({ top: 0, behavior: "smooth" }); } function initScrollToTopButtons() { const scrollToTopElements = document.querySelectorAll(".scroll-to-top, .back-to-top, [data-scroll-to-top], .btn-top"); scrollToTopElements.forEach(element => { element.addEventListener("click", function (e) { e.preventDefault(); scrollToTop(); }); }); } initScrollToTopButtons(); function initAnimateOnScroll() { const elementsToAnimate = document.querySelectorAll("[data-animate], .animate-on-scroll"); const observerOptions = { root: null, rootMargin: "0px", threshold: .25 }; const observerCallback = (entries, observer) => { entries.forEach(entry => { if (entry.isIntersecting) { entry.target.classList.add("animate"); } else { entry.target.classList.remove("animate"); } }); }; const observer = new IntersectionObserver(observerCallback, observerOptions); elementsToAnimate.forEach(element => { observer.observe(element); }); } initAnimateOnScroll(); document.addEventListener("DOMContentLoaded", function () { const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')); tooltipTriggerList.forEach(function (tooltipTriggerEl) { new bootstrap.Tooltip(tooltipTriggerEl); }); }); function initMouseFollowElement() { const containers = document.querySelectorAll("[data-mouse-follow-container]"); containers.forEach(container => { const targetSelector = container.getAttribute("data-mouse-follow-target"); const targetElement = container.querySelector(targetSelector); if (!targetElement) return; container.addEventListener("mousemove", function (e) { const containerRect = container.getBoundingClientRect(); const targetRect = targetElement.getBoundingClientRect(); const targetCenterX = targetRect.left + targetRect.width / 2; const targetCenterY = targetRect.top + targetRect.height / 2; const mouseX = e.clientX; const mouseY = e.clientY; const angleRad = Math.atan2(mouseY - targetCenterY, mouseX - targetCenterX); const angleDeg = angleRad * (180 / Math.PI); targetElement.style.transform = `rotate(${angleDeg}deg)`; }); container.addEventListener("mouseleave", function () { targetElement.style.transform = "rotate(0deg)"; }); }); } initMouseFollowElement();